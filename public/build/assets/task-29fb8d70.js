import{a as B,S as D}from"./app-layout-3a0ab693.js";import{_ as N}from"./PageTitleBox-308ec643.js";import{S as C}from"./index-1fa2037e.js";import{B as L}from"./BackButton-56d13dfe.js";import{_ as z,m as V,r as y,as as F,v as T,h as M,w as e,e as n,f as _,i as r,b as a,c as p,z as l,F as A,x as E,B as Y}from"./app-99bb498d.js";import{h as j}from"./moment-fbc5633a.js";import{u as q}from"./useToast-e4dfa475.js";import"./FormDialog-b00b2303.js";import"./index-a1888b8c.js";import"./icon-7c2f508c.js";import"./index-3f902488.js";const P={props:{id:{type:[String,Number],required:!0}},components:{AppLayout:B,PageTitleBox:N,ShowTask:C,StatusBtn:D,BackButton:L},setup(c){const k=V().auth_id,t=y(null),i=y(!0),{init:f}=q(),d=s=>j(s).format("DD MMM YY");(async()=>{i.value=!0;try{const s=route("task.show",{task:c.id}),{data:o}=await axios.get(s);t.value=o}catch(s){console.error(s)}i.value=!1})();const m=async s=>{try{const o=route("task.changeStatus",{task:c.id}),{data:b}=await axios.post(o,{status:s,notify:0});t.value.status=s,f({message:"Succsess Fully Update Status",color:"#432c50",closeable:!0,duration:4e3})}catch(o){console.error(o)}};return{busy:i,auth_id:k,id:c.id,task:t,useDateFormat:F,atNow:d,statusList:T,changeStatus:m}}},U={key:0},G={style:{"font-size":"15px","margin-left":"5px"}},H={class:"status-dropdown"},I=["onClick"];function J(c,g,k,t,i,f){const d=n("back-button"),h=n("page-title-box"),m=n("el-avatar"),s=n("el-link"),o=n("el-descriptions-item"),b=n("status-btn"),w=n("el-descriptions"),S=n("show-task"),v=n("app-layout");return _(),M(v,{busy:t.busy},{default:e(()=>[r("div",null,[a(h,{title:"Show Task no job"},{default:e(()=>[a(d)]),_:1})]),t.task?(_(),p("div",U,[a(S,{auth_id:t.auth_id,id:t.id,task:t.task},{default:e(()=>[a(w,{direction:"horizontal",column:1,size:"large",border:""},{default:e(()=>[a(o,{label:"Employe:"},{default:e(()=>[a(s,null,{default:e(()=>[a(m,{size:25,src:t.task.employee.model.avatar.url},null,8,["src"]),r("b",G,l(t.task.employee.model.name),1)]),_:1})]),_:1}),a(o,{label:"Category:"},{default:e(()=>[r("b",null,l(t.task.category.title),1)]),_:1}),a(o,{label:"Status:"},{default:e(()=>[a(b,{dropdown:!0,status:t.task.status},{default:e(()=>[r("ul",H,[(_(!0),p(A,null,E(t.statusList.filter(u=>![0,1,2,3,6,7].includes(u.status)),(u,x)=>(_(),p("li",{key:x,onClick:K=>t.changeStatus(u.status)},l(u.title),9,I))),128))])]),_:1},8,["status"])]),_:1}),a(o,{label:"Asigned Date:"},{default:e(()=>[r("b",null,l(t.atNow(t.task.start)),1)]),_:1}),a(o,{label:"DeadLine Date:"},{default:e(()=>[r("b",null,l(t.atNow(t.task.end)),1)]),_:1})]),_:1})]),_:1},8,["auth_id","id","task"])])):Y("",!0)]),_:1},8,["busy"])}const st=z(P,[["render",J]]);export{st as default};
