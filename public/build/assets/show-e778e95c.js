import{A as w,P as g}from"./PageTitleBox-ebdb7c37.js";import{S as v}from"./index-6615ffdd.js";import{S as x}from"./statusBtn-1497cb5d.js";import{_ as B,r as S,m as L,L as T,h as C,i as m,j as i,o as c,a as s,k,c as h,e as l,t as u,F as N,l as V,s as A}from"./app-ec84c5d3.js";import{u as F}from"./index-d538a892.js";import"./moment-fbc5633a.js";import"./icon-c404ea0d.js";import"./index-110c5d5d.js";const D={props:{id:{type:[String,Number],required:!0}},components:{AppLayout:w,PageTitleBox:g,ShowTask:v,StatusBtn:x},setup(n){const r=S(null),d=S(!0),p=L().auth_id,{init:y}=F();(async()=>{try{const a=route("my.task.show",{task:n.id}),{data:o}=await axios.get(a);r.value=o}catch(a){console.error(a)}d.value=!1})();const _=async a=>{try{const o=route("task.changeStatus",{task:n.id}),{data:e}=await axios.post(o,{status:a});r.value.status=a,y({message:"Succsess Fully Update Status",color:"#432c50",closeable:!0,duration:4e3})}catch(o){console.error(o)}};return{busy:d,auth_id:p,id:n.id,task:r,changeStatus:_,statusList:T}}},E={key:0},P={class:"status-dropdown"},j=["onClick"];function q(n,r,d,t,p,y){const f=i("page-title-box"),_=i("status-btn"),a=i("show-task"),o=i("app-layout");return c(),C(o,{busy:t.busy},{default:m(()=>[s("div",null,[k(f,{title:"Show Task"})]),t.task?(c(),h("div",E,[k(a,{auth_id:t.auth_id,id:t.id,task:t.task},{default:m(()=>[s("div",null,[s("h1",null,[l(" Employe: "),s("b",null,u(t.task.assigner.name),1)]),s("div",null,[l(" Task Assin: "),s("b",null,u(t.task.start),1)]),s("div",null,[l(" DeadLine: "),s("b",null,u(t.task.end),1)]),s("div",null,[l(" Status: "),k(_,{dropdown:!0,status:t.task.status},{default:m(()=>[s("ul",P,[(c(!0),h(N,null,V(t.statusList.filter(e=>e.status!=t.task.status),(e,b)=>(c(),h("li",{key:b,onClick:U=>t.changeStatus(e.status)},u(e.title),9,j))),128))])]),_:1},8,["status"])])])]),_:1},8,["auth_id","id","task"])])):A("",!0)]),_:1},8,["busy"])}const Q=B(D,[["render",q]]);export{Q as default};
