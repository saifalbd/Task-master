import{a as z,S as D}from"./app-layout-ddd4ecde.js";import{_ as L}from"./PageTitleBox-3291f9d9.js";import{_ as T,aj as F,Z as N,ah as E,r as v,h as q,w as l,e as n,f,i as e,b as t,j as k,c as x,p as M,F as R,u as U,t as d,q as Z,s as $}from"./app-15300521.js";const G={components:{AppLayout:z,PageTitleBox:L,StatusBtn:D,StarFilled:F,Expand:N,Download:E},setup(){const i=U(),r=v(!0),p=v([]),s=v([]),y=v(10),b=o=>{i.push(o)};return(async()=>{try{const o=route("my.task.index"),{data:c}=await axios.get(o);p.value=c.data,s.value=c.links}catch(o){console.error(o)}r.value=!1})(),{items:p,links:s,perPage:y,busy:r,go:b,doArchive:(o,c)=>{p.value.splice(c,1),axios.post(route("task.doArchive",{task:o.id}),{prop:"employee_archive",do:o.employee_archive?0:1})},addStar:o=>{const{employee_star:c}=o;o.employee_star=!c,axios.post(route("task.changeStar",{task:o.id}),{prop:"employee_star",star:c?0:1})}}}},H=i=>(Z("data-v-86ac04eb"),i=i(),$(),i),J={class:"row mt-4"},K={class:"flex md6"},O={class:"item"},Q={class:"flex lg6"},W={class:"item right"},X={class:"va-table-responsive"},Y={class:"va-table"},ee=H(()=>e("thead",null,[e("tr",null,[e("th",null,"Star"),e("th",null,"ID"),e("th",null,"Title"),e("th",null,"Category"),e("th",null,"Assigner"),e("th",null,"Start"),e("th",null,"DeadLine"),e("th",null,"Status"),e("th",null,"Show")])],-1)),te={class:"ml-1"};function ae(i,r,p,s,y,b){const h=n("download"),_=n("el-icon"),u=n("el-button"),o=n("page-title-box"),c=n("va-select"),S=n("va-icon"),w=n("va-input"),C=n("star-filled"),g=n("el-link"),A=n("el-avatar"),I=n("status-btn"),P=n("expand"),V=n("el-button-group"),j=n("app-layout");return f(),q(j,{busy:s.busy},{default:l(()=>[e("div",null,[t(o,{title:"My Task (jobs)"},{default:l(()=>[t(u,{type:"primary",onClick:r[0]||(r[0]=a=>s.go({name:"job.task.archive"}))},{default:l(()=>[t(_,null,{default:l(()=>[t(h)]),_:1}),k(" Archives ")]),_:1})]),_:1})]),e("div",J,[e("div",K,[e("div",O,[t(c,{class:"flex mb-2 md6",label:"Per Page",modelValue:s.perPage,"onUpdate:modelValue":r[1]||(r[1]=a=>s.perPage=a),options:[10,20,30,40,50]},null,8,["modelValue"])])]),e("div",Q,[e("div",W,[t(w,{class:"flex mb-2 md6",label:"Search"},{prepend:l(()=>[t(S,{class:"material-icons"},{default:l(()=>[k("search")]),_:1})]),_:1})])])]),e("div",X,[e("table",Y,[ee,e("tbody",null,[(f(!0),x(R,null,M(s.items,(a,B)=>(f(),x("tr",{key:a.id},[e("td",null,[t(u,{onClick:m=>s.addStar(a),size:"small",type:a.employee_star?"warning":"",plain:"",round:""},{default:l(()=>[t(_,null,{default:l(()=>[t(C)]),_:1})]),_:2},1032,["onClick","type"])]),e("td",null,d(a.id),1),e("td",null,[t(g,{onClick:m=>s.go({name:"job.task.show",params:{id:a.id}})},{default:l(()=>[e("b",null,d(a.title),1)]),_:2},1032,["onClick"])]),e("td",null,d(a.category.title),1),e("td",null,[t(g,{underline:!1,onClick:m=>s.go({name:"userProfile",params:{user:a.assigner.id}})},{default:l(()=>[t(A,{size:25,src:a.assigner.avatar.url},null,8,["src"]),e("b",te,d(a.assigner.name),1)]),_:2},1032,["onClick"])]),e("td",null,d(a.start),1),e("td",null,d(a.end),1),e("td",null,[t(I,{status:a.status,size:"small"},null,8,["status"])]),e("td",null,[t(V,null,{default:l(()=>[t(u,{type:"primary",size:"small",title:"Archive",onClick:m=>s.doArchive(a,B)},{default:l(()=>[t(_,null,{default:l(()=>[t(h)]),_:1})]),_:2},1032,["onClick"]),t(u,{type:"primary",size:"small",onClick:m=>s.go({name:"job.task.show",params:{id:a.id}}),title:"Show"},{default:l(()=>[t(_,null,{default:l(()=>[t(P)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])]))),128))])])])]),_:1},8,["busy"])}const se=T(G,[["render",ae],["__scopeId","data-v-86ac04eb"]]);export{se as default};
