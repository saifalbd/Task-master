import{a as I,S as E}from"./app-layout-ddd4ecde.js";import{_ as L}from"./PageTitleBox-3291f9d9.js";import{h as F}from"./moment-fbc5633a.js";import{_ as j,r as i,n as q,h as A,w as a,e as l,f as _,i as e,b as c,c as y,p as P,F as S,u as R,t as p,j as z,q as W,s as G}from"./app-15300521.js";const h=async(r,f)=>{const{data:m}=await axios.get(route("home.recentTask",{status:r}));f(m)};const H={components:{AppLayout:I,PageTitleBox:L,statusBtnVue:E},setup(){const r=i(!1),f=R(),m=i([]),s=i([]),x=i([]),w=i([]),b=i([]),T=t=>F(t).fromNow(),C=t=>{f.push(t)};h(0,t=>{m.value=t}),h(1,t=>{s.value=t}),h(2,t=>{x.value=t}),h(3,t=>{w.value=t}),h(4,t=>{b.value=t});const g=q(()=>[{title:"Pending Tasks",items:m.value},{title:"Accepted Tasks",items:s.value},{title:"Working Tasks",items:x.value},{title:"Submited Tasks",items:w.value},{title:"Completed Tasks",items:b.value}]),d=i([]);return axios.get(route("employeeProposal")).then(({data:t})=>{d.value=t}),{atNow:T,go:C,busy:r,employeeProposals:d,Accepted:async(t,u)=>{try{await axios.get(route("acceptProposal",{employee:t})),d.value.splice(u,1)}catch(v){console.error(v)}},Deny:async(t,u)=>{try{await axios.get(route("denyProposal",{employee:t})),d.value.splice(u,1)}catch(v){console.error(v)}},tasks:g}}},D=r=>(W("data-v-f79c14b5"),r=r(),G(),r),J={class:"home-page"},K={class:"card-header"},M={class:"recent-task-list"},O=["onClick"],Q={class:"avatar-box"},U=["src"],X={class:"task-line"},Y={class:"center"},Z={class:"task-line"},$={class:"text-box"},ee={class:"center"},te=D(()=>e("div",{class:"card-header"},[e("span",null,"Employee Proposal")],-1)),se={class:"employee-proposals"},ae=["onClick"],oe={class:"line-one"},ne={style:{"text-align":"center"}},le=D(()=>e("div",null,"Send you Employee Proposal as empoyeee",-1)),ce={class:"line-two"};function re(r,f,m,s,x,w){const b=l("page-title-box"),T=l("el-avatar"),C=l("status-btn-vue"),g=l("el-card"),d=l("el-col"),B=l("el-row"),N=l("va-avatar"),t=l("el-link"),u=l("el-button"),v=l("app-layout");return _(),A(v,{busy:s.busy},{default:a(()=>[e("div",null,[c(b)]),e("div",J,[c(B,{gutter:24},{default:a(()=>[(_(!0),y(S,null,P(s.tasks,(o,k)=>(_(),A(d,{sm:24,md:12,key:k},{default:a(()=>[c(g,{class:"box-card mb-3"},{header:a(()=>[e("div",K,[e("span",null,[e("b",null,p(o.title),1)])])]),default:a(()=>[e("ul",M,[(_(!0),y(S,null,P(o.items,(n,V)=>(_(),y("li",{key:V,onClick:ie=>s.go({name:"task.show",params:{id:n.id}})},[e("div",Q,[c(T,{size:35},{default:a(()=>[e("img",{src:n.employee.model.avatar.url},null,8,U)]),_:2},1024)]),e("div",X,[e("b",null,p(n.employee.model.name),1),e("small",Y,p(s.atNow(n.created_at)),1)]),e("div",Z,[e("div",$,p(n.title),1),e("div",ee,[c(C,{size:"small",status:n.status},null,8,["status"])])])],8,O))),128))])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e("div",null,[c(g,{class:"box-card"},{header:a(()=>[te]),default:a(()=>[e("ul",se,[(_(!0),y(S,null,P(s.employeeProposals,(o,k)=>(_(),y("li",{key:k},[e("div",{class:"avatar-box",onClick:n=>s.go({name:"userProfile",params:{user:o.user.id}})},[c(N,{src:o.user.avatar.url,size:30},null,8,["src"])],8,ae),e("div",oe,[e("div",null,[c(t,{underline:!1,onClick:n=>s.go({name:"userProfile",params:{user:o.user.id}})},{default:a(()=>[e("b",null,p(o.user.name),1)]),_:2},1032,["onClick"]),e("small",ne,p(s.atNow(o.created_at)),1)]),le]),e("div",ce,[c(u,{size:"small",type:"primary",onClick:n=>s.Accepted(o,k)},{default:a(()=>[z(" Accepted ")]),_:2},1032,["onClick"]),c(u,{size:"small",type:"danger",onClick:n=>s.Deny(o,k)},{default:a(()=>[z(" Deny ")]),_:2},1032,["onClick"])])]))),128))])]),_:1})])])]),_:1},8,["busy"])}const me=j(H,[["render",re],["__scopeId","data-v-f79c14b5"]]);export{me as default};
