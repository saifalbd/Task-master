import{d as S,f as z,_ as w,o as d,c as p,a as t,F as U,l as B,j as l,h as b,i as a,t as y,p as T,n as x,q as E,r as C,k as s,e as H,s as L,m as Q,x as j,y as I,g as R,w as O,z as N,u as D}from"./app-ec84c5d3.js";const J=S({setup(){const e=z([{title:"Home",to:{name:"home"},icon:"M17,16H15V22H12V17H8V22H5V16H3L10,10L17,16M6,2L10,6H9V9H7V6H5V9H3V6H2L6,2M18,3L23,8H22V12H19V9H17V12H15.34L14,10.87V8H13L18,3Z"},{title:"Chat",to:{name:"chat"},icon:"M12,15C7.58,15 4,16.79 4,19V21H20V19C20,16.79 16.42,15 12,15M8,9A4,4 0 0,0 12,13A4,4 0 0,0 16,9M11.5,2C11.2,2 11,2.21 11,2.5V5.5H10V3C10,3 7.75,3.86 7.75,6.75C7.75,6.75 7,6.89 7,8H17C16.95,6.89 16.25,6.75 16.25,6.75C16.25,3.86 14,3 14,3V5.5H13V2.5C13,2.21 12.81,2 12.5,2H11.5Z"},{title:"Employee",to:{name:"employee"},icon:"M12,15C7.58,15 4,16.79 4,19V21H20V19C20,16.79 16.42,15 12,15M8,9A4,4 0 0,0 12,13A4,4 0 0,0 16,9M11.5,2C11.2,2 11,2.21 11,2.5V5.5H10V3C10,3 7.75,3.86 7.75,6.75C7.75,6.75 7,6.89 7,8H17C16.95,6.89 16.25,6.75 16.25,6.75C16.25,3.86 14,3 14,3V5.5H13V2.5C13,2.21 12.81,2 12.5,2H11.5Z"},{title:"Category",to:{name:"category"},icon:"M11,13.5V21.5H3V13.5H11M9,15.5H5V19.5H9V15.5M12,2L17.5,11H6.5L12,2M12,5.86L10.08,9H13.92L12,5.86M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13M17.5,15A2.5,2.5 0 0,0 15,17.5A2.5,2.5 0 0,0 17.5,20A2.5,2.5 0 0,0 20,17.5A2.5,2.5 0 0,0 17.5,15Z"},{title:"Team",to:{name:"team"},icon:"M19.19 8.77Q18.73 8.77 18.33 8.6 17.94 8.43 17.64 8.13 17.34 7.83 17.17 7.44 17 7.04 17 6.58 17 6.13 17.17 5.73 17.34 5.33 17.64 5.04 17.94 4.74 18.33 4.57 18.73 4.39 19.19 4.4 19.64 4.39 20.04 4.57 20.44 4.74 20.74 5.04 21.03 5.33 21.21 5.73 21.38 6.13 21.38 6.58 21.38 7.04 21.21 7.44 21.04 7.83 20.74 8.13 20.44 8.43 20.04 8.6 19.64 8.77 19.19 8.77M19.19 5.65Q18.8 5.65 18.5 5.92 18.25 6.19 18.25 6.58 18.25 6.97 18.5 7.25 18.8 7.5 19.19 7.5 19.58 7.5 19.85 7.25 20.13 7 20.13 6.58 20.13 6.19 19.85 5.92 19.58 5.65 19.19 5.65M22 10.33V15Q22 15.63 21.76 16.2 21.5 16.77 21.09 17.19 20.66 17.62 20.09 17.86 19.5 18.11 18.88 18.11 18.5 18.11 18.12 18 17.73 17.93 17.41 17.75 17.17 18.54 16.7 19.19 16.23 19.84 15.6 20.3 14.97 20.76 14.21 21 13.45 21.27 12.63 21.27 11.67 21.27 10.82 20.94 10 20.61 9.32 20 8.66 19.43 8.23 18.64 7.79 17.84 7.66 16.9H2.83Q2.5 16.9 2.24 16.65 2 16.41 2 16.07V7.73Q2 7.39 2.24 7.14 2.5 6.9 2.83 6.9H10Q9.71 6.3 9.71 5.65 9.71 5.04 9.94 4.5 10.16 4 10.56 3.58 10.96 3.19 11.5 2.96 12 2.73 12.62 2.73 13.23 2.73 13.76 2.96 14.29 3.19 14.69 3.58 15.09 4 15.31 4.5 15.54 5.04 15.54 5.65 15.54 6.25 15.31 6.79 15.09 7.32 14.69 7.71 14.29 8.11 13.76 8.34 13.23 8.57 12.62 8.57 12.47 8.57 12.31 8.55 12.16 8.53 12 8.5V9.4H21.06Q21.45 9.4 21.73 9.67 22 9.94 22 10.33M12.63 4Q12.28 4 12 4.11 11.67 4.24 11.44 4.47 11.22 4.7 11.09 5 10.96 5.31 10.96 5.65 10.96 6 11.09 6.3 11.22 6.6 11.44 6.83 11.67 7.05 12 7.19 12.28 7.32 12.63 7.32 12.97 7.32 13.27 7.19 13.57 7.05 13.8 6.83 14.03 6.6 14.16 6.3 14.3 6 14.3 5.65 14.3 5.31 14.16 5 14.03 4.7 13.8 4.47 13.57 4.24 13.27 4.11 12.97 4 12.63 4M7.78 10.18H9.66V8.62H4.34V10.18H6.22V15.18H7.78M16.38 16.27V10.65H12V16.07Q12 16.41 11.76 16.65 11.5 16.9 11.17 16.9H8.92Q9.05 17.57 9.39 18.15 9.73 18.72 10.21 19.14 10.69 19.55 11.31 19.79 11.92 20 12.63 20 13.4 20 14.08 19.73 14.76 19.43 15.28 18.92 15.79 18.41 16.08 17.73 16.38 17.05 16.38 16.27M20.75 15V10.65H17.63V16.36Q17.88 16.61 18.2 16.74 18.5 16.86 18.88 16.86 19.27 16.86 19.61 16.71 19.95 16.56 20.2 16.31 20.46 16.06 20.6 15.71 20.75 15.37 20.75 15Z"},{title:"Project",to:{name:"project"},icon:"M3,3H9V7H3V3M15,10H21V14H15V10M15,17H21V21H15V17M13,13H7V18H13V20H7L5,20V9H7V11H13V13Z"},{title:"Task",to:{name:"task"},icon:"M3,3H9V7H3V3M15,10H21V14H15V10M15,17H21V21H15V17M13,13H7V18H13V20H7L5,20V9H7V11H13V13Z"}]),o=z([{title:"Project",to:{name:"job.project"},icon:"M3,3H9V7H3V3M15,10H21V14H15V10M15,17H21V21H15V17M13,13H7V18H13V20H7L5,20V9H7V11H13V13Z"},{title:"Task",to:{name:"job.task"},icon:"M3,3H9V7H3V3M15,10H21V14H15V10M15,17H21V21H15V17M13,13H7V18H13V20H7L5,20V9H7V11H13V13Z"}]);return{collapses:e,myJobs:o}}}),P=e=>(T("data-v-fade49f8"),e=e(),x(),e),q={class:"asside-box"},G=P(()=>t("div",{class:"user-info"},null,-1)),K=P(()=>t("div",{class:"ul-title"},"administrative",-1)),W={class:"side-bar-ul"},X={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Y=["d"],ee=P(()=>t("div",{class:"ul-title"},"My Jobs",-1)),te={class:"side-bar-ul"},oe={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},se=["d"];function ae(e,o,n,r,v,V){const c=l("router-link");return d(),p("div",q,[G,K,t("div",W,[(d(!0),p(U,null,B(e.collapses,i=>(d(),b(c,{class:"ul-link",to:i.to,key:i.to},{default:a(()=>[(d(),p("svg",X,[t("path",{fill:"currentColor",d:i.icon},null,8,Y)])),t("span",null,y(i.title),1)]),_:2},1032,["to"]))),128))]),ee,t("div",te,[(d(!0),p(U,null,B(e.myJobs,i=>(d(),b(c,{class:"ul-link",to:i.to,key:i.to},{default:a(()=>[(d(),p("svg",oe,[t("path",{fill:"currentColor",d:i.icon},null,8,se)])),t("span",null,y(i.title),1)]),_:2},1032,["to"]))),128))])])}const ne=w(J,[["render",ae],["__scopeId","data-v-fade49f8"]]),Z=E("notifications",{state(){return{count:0,notifications:[],showModal:!1}},actions:{toggleNodal(e){this.showModal=e},addNotify(e){this.notifications.unshift(e),this.count++},notificationsFetch(){axios.get(route("notification")).then(({data:e})=>{this.notifications=e,this.count=e.length})}},getters:{taskNotifications(){return this.notifications.filter(e=>e.type=="TaskAssign")},employeeAssignedNotifications(){return this.notifications.filter(e=>e.type=="EmployeeAssigned")}}});const ie=S({model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!0}},setup(e,{emit:o}){const n=Z();return{title:"Notifications",busy:C(!1),props:e,close:()=>{o("update:show",!1)},notifyStore:n}}}),le={class:"layout va-gutter-1"},de={class:"row"},ce={class:"flex xs12"},re={class:"item mb-4"},ue={class:"form-title"},_e={class:"text"},fe={key:0,class:"flex xs12"},pe={key:1,class:"flex xs12"},he={class:"flex xs12"},me={class:"item actions-btns"};function ve(e,o,n,r,v,V){const c=l("va-icon"),i=l("va-list-label"),_=l("va-avatar"),u=l("va-list-item-section"),f=l("va-list-item-label"),h=l("va-list-item"),g=l("va-list"),m=l("va-button"),M=l("va-inner-loading"),k=l("va-modal");return d(),b(k,{modelValue:e.show,"onUpdate:modelValue":o[0]||(o[0]=$=>e.show=$),fullscreen:!1,"hide-default-actions":"","no-outside-dismiss":"",class:"form-sceen"},{default:a(()=>[s(M,{loading:e.busy},{default:a(()=>[t("div",le,[t("div",de,[t("div",ce,[t("div",re,[t("div",ue,[s(c,{name:"notifications"}),t("span",_e,y(e.title),1)])])]),e.notifyStore.taskNotifications.length?(d(),p("div",fe,[s(g,null,{default:a(()=>[s(i,null,{default:a(()=>[H(" TaskNotifications ")]),_:1}),(d(!0),p(U,null,B(e.notifyStore.taskNotifications,($,A)=>(d(),b(h,{class:"list__item",key:A},{default:a(()=>[s(u,{avatar:""},{default:a(()=>[s(_)]),_:1}),s(u,null,{default:a(()=>[s(f,null,{default:a(()=>[H(y($.fromUser.name),1)]),_:2},1024),s(f,{lines:A+1},{default:a(()=>[H(y($.data.message),1)]),_:2},1032,["lines"])]),_:2},1024),s(u,{icon:""},{default:a(()=>[s(c,{name:"remove_red_eye",color:"background-tertiary"})]),_:1})]),_:2},1024))),128))]),_:1})])):L("",!0),e.notifyStore.employeeAssignedNotifications.length?(d(),p("div",pe,[s(g,null,{default:a(()=>[s(i,null,{default:a(()=>[H(" Employee Assigned Notifications ")]),_:1}),(d(!0),p(U,null,B(e.notifyStore.employeeAssignedNotifications,($,A)=>(d(),b(h,{class:"list__item",key:A},{default:a(()=>[s(u,{avatar:""},{default:a(()=>[s(_)]),_:1}),s(u,null,{default:a(()=>[s(f,null,{default:a(()=>[H(y($.fromUser.name),1)]),_:2},1024),s(f,{lines:A+1},{default:a(()=>[H(y($.data.message),1)]),_:2},1032,["lines"])]),_:2},1024),s(u,{icon:""},{default:a(()=>[s(c,{name:"remove_red_eye",color:"background-tertiary"})]),_:1})]),_:2},1024))),128))]),_:1})])):L("",!0),t("div",he,[t("div",me,[s(m,{color:"danger",size:"small",onClick:e.close},{default:a(()=>[s(c,{class:"material-icons"},{default:a(()=>[H("close")]),_:1}),H(" Close")]),_:1},8,["onClick"])])])])])]),_:1},8,["loading"])]),_:1},8,["modelValue"])}const Ve=w(ie,[["render",ve],["__scopeId","data-v-83334191"]]);const ge=S({model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!0}},setup(e,{emit:o}){const n=Q(),r=C(!1),v="Profile Thumbnil";let V=C(!1),c=C(""),i=C(null);return{title:v,attach:i,hasThumb:V,thumbnil:c,fileAded:h=>{let m=h.target.files;if(m.length){let M=m[0];i.value=M;let k=new FileReader;k.onload=()=>{let $=k.result;c.value=$,V.value=!0},k.readAsDataURL(M)}},update:async()=>{try{const h=route("avatar",{},!1),g=new FormData;i.value&&g.append("avatar",i.value);const{data:m}=await axios.post(h,g);n.updateAvatar(m),n.hideProfileModal()}catch(h){console.error(h)}},busy:r,props:e,close:()=>{o("update:show",!1)}}}}),He=e=>(T("data-v-8d7b5baf"),e=e(),x(),e),ye={class:"layout va-gutter-1"},$e={class:"row"},be={class:"flex xs12"},Me={class:"item mb-4"},Ce={class:"form-title"},we={class:"text"},ke={class:"flex xs12"},Ae={class:"row"},Se={class:"flex xs12"},Ne={key:0,class:"img-box"},Ue=["src"],Be={class:"input-box"},Le={class:"va-file-upload va-file-upload--dropzone",style:{"background-color":"rgba(21, 79, 193, 0.08)"}},Te=He(()=>t("div",{class:"va-file-upload__field"},[t("div",{class:"va-file-upload__field__text"}," Click Here And Upload File ")],-1)),xe={class:"flex xs12"},Pe={class:"item actions-btns"};function ze(e,o,n,r,v,V){const c=l("va-icon"),i=l("va-button"),_=l("va-inner-loading"),u=l("va-modal");return d(),b(u,{modelValue:e.show,"onUpdate:modelValue":o[1]||(o[1]=f=>e.show=f),fullscreen:!1,"hide-default-actions":"","no-outside-dismiss":"",class:"form-sceen"},{default:a(()=>[s(_,{loading:e.busy},{default:a(()=>[t("div",ye,[t("div",$e,[t("div",be,[t("div",Me,[t("div",Ce,[s(c,{name:"notifications"}),t("span",we,y(e.title),1)])])]),t("div",ke,[t("div",Ae,[t("div",Se,[t("div",{class:j(["tumb-card",{hasThumb:e.hasThumb}])},[e.hasThumb?(d(),p("div",Ne,[t("img",{src:e.thumbnil,alt:""},null,8,Ue)])):L("",!0),t("div",Be,[t("div",Le,[Te,t("input",{type:"file",class:"va-file-upload__field__input",tabindex:"-1","aria-hidden":"true",onChange:o[0]||(o[0]=(...f)=>e.fileAded&&e.fileAded(...f))},null,32)])])],2)])])]),t("div",xe,[t("div",Pe,[s(i,{color:"info",onClick:e.update},{default:a(()=>[H(" Skip")]),_:1},8,["onClick"]),s(i,{color:"success",onClick:e.update},{default:a(()=>[H(" Next")]),_:1},8,["onClick"])])])])])]),_:1},8,["loading"])]),_:1},8,["modelValue"])}const Ie=w(ge,[["render",ze],["__scopeId","data-v-8d7b5baf"]]),Ee=E("chat",{state(){return{users:[],totalUnreadCount:0}},actions:{async fetchChatUsers(e){try{const{data:o}=await axios.get(route("chatUsers"));this.users=o.map((n,r)=>(n.active=!r,n.messages=[],n)),e(this.users)}catch(o){console.error(o)}},increaseTotalUnread(e){this.totalUnreadCount=+e},increaseUnread(e,o){this.users=this.users.map(n=>(n.id==e&&(n.unReadCount=n.unReadCount+o),n)),this.increaseTotalUnread(o)},listen(e){Echo.join("chat").joining(o=>{axios.put(route("online",{user:o.id}))}).leaving(o=>{axios.put(route("offline",{user:o.id}),{})}).listen("UserOnline",o=>{const n=this.users.find(r=>r.id==o.id);n&&(n.isOnline=!0)}).listen("UserOffline",o=>{const n=this.users.find(r=>r.id==o.id);n&&(n.isOnline=!1)}).listen("ChatEvent",o=>{e(o)})}}}),Qe=S({model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!0}},setup(e,{emit:o}){return{props:e}}}),je=t("div",null,"Chat modal",-1);function Ze(e,o,n,r,v,V){const c=l("va-inner-loading"),i=l("va-modal");return d(),b(i,{modelValue:e.show,"onUpdate:modelValue":o[0]||(o[0]=_=>e.show=_),fullscreen:!0,"hide-default-actions":"","no-outside-dismiss":""},{default:a(()=>[s(c,{loading:e.busy},{default:a(()=>[je]),_:1},8,["loading"])]),_:1},8,["modelValue"])}const Fe=w(Qe,[["render",Ze]]);const Re=S({components:{AsideBar:ne,NotificationModel:Ve,ProfileEditModal:Ie,ChatModal:Fe},props:{title:{type:String,default:"title"},showInfoBar:{type:Boolean,default:!1},busy:{type:Boolean,default:!0}},setup(e){const o=Q(),n=Ee(),r=I(()=>n.totalUnreadCount);let v=o.token,V=o.user,c=o.avatar,i=I(()=>o.showProfileModal),_=C(!1);v&&(window.Echo.connector.options.auth.headers.Authorization=`Bearer ${v}`);const u=D(),f=Z();f.notificationsFetch();const h=()=>{O(),u.push({name:"login"})},g=()=>{u.push({name:"chat"})};return R(()=>{axios.get(route("chatUnreadcount")).then(({data:m})=>{r.value=m,n.increaseTotalUnread(m)})}),{avatar:c,props:e,notifyStore:f,user:V,showProfileModal:i,showChatModal:_,chatUnreadcount:r,logout:h,goChat:g}}}),F=e=>(T("data-v-7c50f88e"),e=e(),x(),e),Oe={class:"main-layout"},De={class:"info-bar-body"},Je={class:"asside"},qe={class:"main-content"},Ge={class:"inner"},Ke={class:"top-nav"},We=F(()=>t("div",{class:"page-title"},"Task Master",-1)),Xe={class:"right-side"},Ye={key:0,class:"profile-badge-box"},et=F(()=>t("span",{class:"mx-2"},"Logout",-1)),tt={class:"page-content"};function ot(e,o,n,r,v,V){const c=l("AsideBar"),i=l("va-icon"),_=l("va-avatar"),u=l("va-badge"),f=l("va-button"),h=l("va-inner-loading"),g=l("NotificationModel"),m=l("ProfileEditModal");return d(),p("div",Oe,[t("div",{class:j(["info-bar",{show:e.props.showInfoBar}])},[t("div",De,[N(e.$slots,"info",{},void 0,!0)])],2),t("div",Je,[s(c)]),t("div",qe,[t("div",Ge,[t("div",Ke,[We,t("div",Xe,[N(e.$slots,"custom",{},void 0,!0),s(u,{class:"notification-icon",text:e.notifyStore.count,overlap:"",onClick:o[0]||(o[0]=M=>e.notifyStore.toggleNodal(!0))},{default:a(()=>[s(_,{size:"small"},{default:a(()=>[s(i,{size:"small",name:"notifications"})]),_:1})]),_:1},8,["text"]),s(u,{text:e.chatUnreadcount,overlap:""},{default:a(()=>[s(_,{onClick:e.goChat,size:"small"},{default:a(()=>[s(i,{size:"small",name:"message"})]),_:1},8,["onClick"])]),_:1},8,["text"]),e.user?(d(),p("span",Ye,[e.avatar?(d(),b(_,{key:0,size:"small",src:e.avatar.url,alt:e.avatar.path},null,8,["src","alt"])):(d(),b(_,{key:1,size:"small",icon:"person"})),t("span",null,y(e.user.name),1),t("span",null,[s(i,{size:"small",name:"expand_more"})])])):L("",!0),s(f,{class:"ml-4",size:"small",preset:"primary",round:"",onClick:e.logout},{default:a(()=>[s(i,{size:"small",name:"lock"}),et]),_:1},8,["onClick"])])]),t("div",tt,[s(h,{loading:e.props.busy,size:60},{default:a(()=>[N(e.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])])])]),s(g,{show:e.notifyStore.showModal,"onUpdate:show":o[1]||(o[1]=M=>e.notifyStore.toggleNodal(M)),onClose:o[2]||(o[2]=M=>e.notifyStore.toggleNodal(!1))},null,8,["show"]),s(m,{show:e.showProfileModal},null,8,["show"])])}const lt=w(Re,[["render",ot],["__scopeId","data-v-7c50f88e"]]);const st={class:"top-title-box"},at={class:"top-title"},nt={__name:"PageTitleBox",props:{title:{type:String,default:"Home Page"}},setup(e){const o=e;return(n,r)=>(d(),p("div",st,[t("div",at,y(o.title),1),t("div",null,[N(n.$slots,"default",{},void 0,!0)])]))}},dt=w(nt,[["__scopeId","data-v-eb4710cd"]]);export{lt as A,dt as P,Ee as c};
