import{A as g,P as w}from"./PageTitleBox-2a1a7b4e.js";import{S as v}from"./index-6947152d.js";import{S as x}from"./statusBtn-cc0fa534.js";import{_ as B,n as b,m as T,K as C,f as L,g as m,h as i,o as c,a as s,i as k,c as h,b as l,t as u,F as N,j as V,q as A}from"./app-9ac6d560.js";import{u as F}from"./index-8a8b9b11.js";import"./moment-fbc5633a.js";import"./icon-c404ea0d.js";import"./index-d8cf651c.js";const q={props:{id:{type:[String,Number],required:!0}},components:{AppLayout:g,PageTitleBox:w,ShowTask:v,StatusBtn:x},setup(n){const r=b(null),d=b(!0),p=T().auth_id,{init:y}=F();(async()=>{try{const a=route("my.task.show",{task:n.id}),{data:o}=await axios.get(a);r.value=o}catch(a){console.error(a)}d.value=!1})();const _=async a=>{try{const o=route("task.changeStatus",{task:n.id}),{data:e}=await axios.post(o,{status:a});r.value.status=a,y({message:"Succsess Fully Update Status",color:"#432c50",closeable:!0,duration:4e3})}catch(o){console.error(o)}};return{busy:d,auth_id:p,id:n.id,task:r,changeStatus:_,statusList:C}}},D={key:0},E={class:"status-dropdown"},P=["onClick"];function j(n,r,d,t,p,y){const f=i("page-title-box"),_=i("status-btn"),a=i("show-task"),o=i("app-layout");return c(),L(o,{busy:t.busy},{default:m(()=>[s("div",null,[k(f,{title:"Show Task"})]),t.task?(c(),h("div",D,[k(a,{auth_id:t.auth_id,id:t.id,task:t.task},{default:m(()=>[s("div",null,[s("h1",null,[l(" Employe: "),s("b",null,u(t.task.assigner.name),1)]),s("div",null,[l(" Task Assin: "),s("b",null,u(t.task.start),1)]),s("div",null,[l(" DeadLine: "),s("b",null,u(t.task.end),1)]),s("div",null,[l(" Status: "),k(_,{dropdown:!0,status:t.task.status},{default:m(()=>[s("ul",E,[(c(!0),h(N,null,V(t.statusList.filter(e=>e.status!=t.task.status),(e,S)=>(c(),h("li",{key:S,onClick:K=>t.changeStatus(e.status)},u(e.title),9,P))),128))])]),_:1},8,["status"])])])]),_:1},8,["auth_id","id","task"])])):A("",!0)]),_:1},8,["busy"])}const Q=B(q,[["render",j]]);export{Q as default};
