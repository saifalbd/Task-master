import{a as B,S as D}from"./app-layout-e16cfc1f.js";import{_ as N}from"./PageTitleBox-d93af271.js";import{S as L}from"./index-770f4e8a.js";import{B as z}from"./BackButton-c8ef4e3c.js";import{_ as C,m as V,r as y,aq as F,t as T,h as M,w as s,e as n,f as u,i as r,b as a,c as p,y as _,F as q,v as A,z as E}from"./app-c2489b58.js";import{h as Y}from"./moment-fbc5633a.js";import{u as j}from"./useToast-b2837d2a.js";import"./FormDialog-79e4fca8.js";import"./index-6926ebaf.js";import"./icon-7c2f508c.js";import"./index-e900a023.js";const P={props:{id:{type:[String,Number],required:!0}},components:{AppLayout:B,PageTitleBox:N,ShowTask:L,StatusBtn:D,BackButton:z},setup(l){const k=V().auth_id,t=y(null),c=y(!0),{init:f}=j(),d=o=>Y(o).format("DD MMM YY");(async()=>{c.value=!0;try{const o=route("task.show",{task:l.id}),{data:e}=await axios.get(o);t.value=e}catch(o){console.error(o)}c.value=!1})();const m=async o=>{try{const e=route("task.changeStatus",{task:l.id}),{data:b}=await axios.post(e,{status:o,notify:0});t.value.status=o,f({message:"Succsess Fully Update Status",color:"#432c50",closeable:!0,duration:4e3})}catch(e){console.error(e)}};return{busy:c,auth_id:k,id:l.id,task:t,useDateFormat:F,atNow:d,statusList:T,changeStatus:m}}},U={key:0},G={style:{"font-size":"15px","margin-left":"5px"}},H={class:"status-dropdown"},I=["onClick"];function J(l,w,k,t,c,f){const d=n("back-button"),h=n("page-title-box"),m=n("el-avatar"),o=n("el-link"),e=n("el-descriptions-item"),b=n("status-btn"),g=n("el-descriptions"),S=n("show-task"),v=n("app-layout");return u(),M(v,{busy:t.busy},{default:s(()=>[r("div",null,[a(h,{title:"Show Task no job"},{default:s(()=>[a(d)]),_:1})]),t.task?(u(),p("div",U,[a(S,{auth_id:t.auth_id,id:t.id,task:t.task},{default:s(()=>[a(g,{direction:"horizontal",column:1,size:"large",border:""},{default:s(()=>[a(e,{label:"Employe:"},{default:s(()=>[a(o,null,{default:s(()=>[a(m,{size:25,src:t.task.employee.model.avatar.url},null,8,["src"]),r("b",G,_(t.task.employee.model.name),1)]),_:1})]),_:1}),a(e,{label:"Status:"},{default:s(()=>[a(b,{dropdown:!0,status:t.task.status},{default:s(()=>[r("ul",H,[(u(!0),p(q,null,A(t.statusList.filter(i=>![0,1,2,3,6,7].includes(i.status)),(i,x)=>(u(),p("li",{key:x,onClick:K=>t.changeStatus(i.status)},_(i.title),9,I))),128))])]),_:1},8,["status"])]),_:1}),a(e,{label:"Asigned Date:"},{default:s(()=>[r("b",null,_(t.atNow(t.task.start)),1)]),_:1}),a(e,{label:"DeadLine Date:"},{default:s(()=>[r("b",null,_(t.atNow(t.task.end)),1)]),_:1})]),_:1})]),_:1},8,["auth_id","id","task"])])):E("",!0)]),_:1},8,["busy"])}const st=C(P,[["render",J]]);export{st as default};
