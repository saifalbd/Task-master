import{d as A,e as P,_ as S,o as d,c as p,a as e,F as N,k as B,i as l,g as M,h as a,t as $,p as z,l as T,n as E,r as C,j as s,b as y,q as L,m as Q,s as j,x as R,y as x,f as O,z as D,A as U,u as J}from"./app-fb8c1635.js";const q=A({setup(){const t=P([{title:"Home",to:{name:"home"},icon:"M17,16H15V22H12V17H8V22H5V16H3L10,10L17,16M6,2L10,6H9V9H7V6H5V9H3V6H2L6,2M18,3L23,8H22V12H19V9H17V12H15.34L14,10.87V8H13L18,3Z"},{title:"Employee",to:{name:"employee"},icon:"M12,15C7.58,15 4,16.79 4,19V21H20V19C20,16.79 16.42,15 12,15M8,9A4,4 0 0,0 12,13A4,4 0 0,0 16,9M11.5,2C11.2,2 11,2.21 11,2.5V5.5H10V3C10,3 7.75,3.86 7.75,6.75C7.75,6.75 7,6.89 7,8H17C16.95,6.89 16.25,6.75 16.25,6.75C16.25,3.86 14,3 14,3V5.5H13V2.5C13,2.21 12.81,2 12.5,2H11.5Z"},{title:"Category",to:{name:"category"},icon:"M11,13.5V21.5H3V13.5H11M9,15.5H5V19.5H9V15.5M12,2L17.5,11H6.5L12,2M12,5.86L10.08,9H13.92L12,5.86M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13M17.5,15A2.5,2.5 0 0,0 15,17.5A2.5,2.5 0 0,0 17.5,20A2.5,2.5 0 0,0 20,17.5A2.5,2.5 0 0,0 17.5,15Z"},{title:"Team",to:{name:"team"},icon:"M19.19 8.77Q18.73 8.77 18.33 8.6 17.94 8.43 17.64 8.13 17.34 7.83 17.17 7.44 17 7.04 17 6.58 17 6.13 17.17 5.73 17.34 5.33 17.64 5.04 17.94 4.74 18.33 4.57 18.73 4.39 19.19 4.4 19.64 4.39 20.04 4.57 20.44 4.74 20.74 5.04 21.03 5.33 21.21 5.73 21.38 6.13 21.38 6.58 21.38 7.04 21.21 7.44 21.04 7.83 20.74 8.13 20.44 8.43 20.04 8.6 19.64 8.77 19.19 8.77M19.19 5.65Q18.8 5.65 18.5 5.92 18.25 6.19 18.25 6.58 18.25 6.97 18.5 7.25 18.8 7.5 19.19 7.5 19.58 7.5 19.85 7.25 20.13 7 20.13 6.58 20.13 6.19 19.85 5.92 19.58 5.65 19.19 5.65M22 10.33V15Q22 15.63 21.76 16.2 21.5 16.77 21.09 17.19 20.66 17.62 20.09 17.86 19.5 18.11 18.88 18.11 18.5 18.11 18.12 18 17.73 17.93 17.41 17.75 17.17 18.54 16.7 19.19 16.23 19.84 15.6 20.3 14.97 20.76 14.21 21 13.45 21.27 12.63 21.27 11.67 21.27 10.82 20.94 10 20.61 9.32 20 8.66 19.43 8.23 18.64 7.79 17.84 7.66 16.9H2.83Q2.5 16.9 2.24 16.65 2 16.41 2 16.07V7.73Q2 7.39 2.24 7.14 2.5 6.9 2.83 6.9H10Q9.71 6.3 9.71 5.65 9.71 5.04 9.94 4.5 10.16 4 10.56 3.58 10.96 3.19 11.5 2.96 12 2.73 12.62 2.73 13.23 2.73 13.76 2.96 14.29 3.19 14.69 3.58 15.09 4 15.31 4.5 15.54 5.04 15.54 5.65 15.54 6.25 15.31 6.79 15.09 7.32 14.69 7.71 14.29 8.11 13.76 8.34 13.23 8.57 12.62 8.57 12.47 8.57 12.31 8.55 12.16 8.53 12 8.5V9.4H21.06Q21.45 9.4 21.73 9.67 22 9.94 22 10.33M12.63 4Q12.28 4 12 4.11 11.67 4.24 11.44 4.47 11.22 4.7 11.09 5 10.96 5.31 10.96 5.65 10.96 6 11.09 6.3 11.22 6.6 11.44 6.83 11.67 7.05 12 7.19 12.28 7.32 12.63 7.32 12.97 7.32 13.27 7.19 13.57 7.05 13.8 6.83 14.03 6.6 14.16 6.3 14.3 6 14.3 5.65 14.3 5.31 14.16 5 14.03 4.7 13.8 4.47 13.57 4.24 13.27 4.11 12.97 4 12.63 4M7.78 10.18H9.66V8.62H4.34V10.18H6.22V15.18H7.78M16.38 16.27V10.65H12V16.07Q12 16.41 11.76 16.65 11.5 16.9 11.17 16.9H8.92Q9.05 17.57 9.39 18.15 9.73 18.72 10.21 19.14 10.69 19.55 11.31 19.79 11.92 20 12.63 20 13.4 20 14.08 19.73 14.76 19.43 15.28 18.92 15.79 18.41 16.08 17.73 16.38 17.05 16.38 16.27M20.75 15V10.65H17.63V16.36Q17.88 16.61 18.2 16.74 18.5 16.86 18.88 16.86 19.27 16.86 19.61 16.71 19.95 16.56 20.2 16.31 20.46 16.06 20.6 15.71 20.75 15.37 20.75 15Z"},{title:"Project",to:{name:"project"},icon:"M3,3H9V7H3V3M15,10H21V14H15V10M15,17H21V21H15V17M13,13H7V18H13V20H7L5,20V9H7V11H13V13Z"},{title:"Task",to:{name:"task"},icon:"M3,3H9V7H3V3M15,10H21V14H15V10M15,17H21V21H15V17M13,13H7V18H13V20H7L5,20V9H7V11H13V13Z"}]),o=P([{title:"Project",to:{name:"job.project"},icon:"M3,3H9V7H3V3M15,10H21V14H15V10M15,17H21V21H15V17M13,13H7V18H13V20H7L5,20V9H7V11H13V13Z"},{title:"Task",to:{name:"job.task"},icon:"M3,3H9V7H3V3M15,10H21V14H15V10M15,17H21V21H15V17M13,13H7V18H13V20H7L5,20V9H7V11H13V13Z"}]);return{collapses:t,myJobs:o}}}),I=t=>(z("data-v-1a7e7320"),t=t(),T(),t),G={class:"asside-box"},K=I(()=>e("div",{class:"user-info"},null,-1)),W=I(()=>e("div",{class:"ul-title"},"administrative",-1)),X={class:"side-bar-ul"},Y={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},tt=["d"],et=I(()=>e("div",{class:"ul-title"},"My Jobs",-1)),ot={class:"side-bar-ul"},st={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},at=["d"];function nt(t,o,n,r,g,V){const c=l("router-link");return d(),p("div",G,[K,W,e("div",X,[(d(!0),p(N,null,B(t.collapses,i=>(d(),M(c,{class:"ul-link",to:i.to,key:i.to},{default:a(()=>[(d(),p("svg",Y,[e("path",{fill:"currentColor",d:i.icon},null,8,tt)])),e("span",null,$(i.title),1)]),_:2},1032,["to"]))),128))]),et,e("div",ot,[(d(!0),p(N,null,B(t.myJobs,i=>(d(),M(c,{class:"ul-link",to:i.to,key:i.to},{default:a(()=>[(d(),p("svg",st,[e("path",{fill:"currentColor",d:i.icon},null,8,at)])),e("span",null,$(i.title),1)]),_:2},1032,["to"]))),128))])])}const it=S(q,[["render",nt],["__scopeId","data-v-1a7e7320"]]),Z=E("notifications",{state(){return{count:0,notifications:[],showModal:!1}},actions:{toggleNodal(t){this.showModal=t},addNotify(t){this.notifications.unshift(t),this.count++},notificationsFetch(){axios.get(route("notification")).then(({data:t})=>{this.notifications=t,this.count=t.length})}},getters:{taskNotifications(){return this.notifications.filter(t=>t.type=="TaskAssign")},employeeAssignedNotifications(){return this.notifications.filter(t=>t.type=="EmployeeAssigned")}}});const lt=A({model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!0}},setup(t,{emit:o}){const n=Z();return{title:"Notifications",busy:C(!1),props:t,close:()=>{o("update:show",!1)},notifyStore:n}}}),dt={class:"layout va-gutter-1"},ct={class:"row"},rt={class:"flex xs12"},ut={class:"item mb-4"},_t={class:"form-title"},ft={class:"text"},pt={key:0,class:"flex xs12"},ht={key:1,class:"flex xs12"},mt={class:"flex xs12"},vt={class:"item actions-btns"};function gt(t,o,n,r,g,V){const c=l("va-icon"),i=l("va-list-label"),f=l("va-avatar"),u=l("va-list-item-section"),_=l("va-list-item-label"),h=l("va-list-item"),m=l("va-list"),H=l("va-button"),v=l("va-inner-loading"),k=l("va-modal");return d(),M(k,{modelValue:t.show,"onUpdate:modelValue":o[0]||(o[0]=b=>t.show=b),fullscreen:!1,"hide-default-actions":"","no-outside-dismiss":"",class:"form-sceen"},{default:a(()=>[s(v,{loading:t.busy},{default:a(()=>[e("div",dt,[e("div",ct,[e("div",rt,[e("div",ut,[e("div",_t,[s(c,{name:"notifications"}),e("span",ft,$(t.title),1)])])]),t.notifyStore.taskNotifications.length?(d(),p("div",pt,[s(m,null,{default:a(()=>[s(i,null,{default:a(()=>[y(" TaskNotifications ")]),_:1}),(d(!0),p(N,null,B(t.notifyStore.taskNotifications,(b,w)=>(d(),M(h,{class:"list__item",key:w},{default:a(()=>[s(u,{avatar:""},{default:a(()=>[s(f)]),_:1}),s(u,null,{default:a(()=>[s(_,null,{default:a(()=>[y($(b.fromUser.name),1)]),_:2},1024),s(_,{lines:w+1},{default:a(()=>[y($(b.data.message),1)]),_:2},1032,["lines"])]),_:2},1024),s(u,{icon:""},{default:a(()=>[s(c,{name:"remove_red_eye",color:"background-tertiary"})]),_:1})]),_:2},1024))),128))]),_:1})])):L("",!0),t.notifyStore.employeeAssignedNotifications.length?(d(),p("div",ht,[s(m,null,{default:a(()=>[s(i,null,{default:a(()=>[y(" Employee Assigned Notifications ")]),_:1}),(d(!0),p(N,null,B(t.notifyStore.employeeAssignedNotifications,(b,w)=>(d(),M(h,{class:"list__item",key:w},{default:a(()=>[s(u,{avatar:""},{default:a(()=>[s(f)]),_:1}),s(u,null,{default:a(()=>[s(_,null,{default:a(()=>[y($(b.fromUser.name),1)]),_:2},1024),s(_,{lines:w+1},{default:a(()=>[y($(b.data.message),1)]),_:2},1032,["lines"])]),_:2},1024),s(u,{icon:""},{default:a(()=>[s(c,{name:"remove_red_eye",color:"background-tertiary"})]),_:1})]),_:2},1024))),128))]),_:1})])):L("",!0),e("div",mt,[e("div",vt,[s(H,{color:"danger",size:"small",onClick:t.close},{default:a(()=>[s(c,{class:"material-icons"},{default:a(()=>[y("close")]),_:1}),y(" Close")]),_:1},8,["onClick"])])])])])]),_:1},8,["loading"])]),_:1},8,["modelValue"])}const Vt=S(lt,[["render",gt],["__scopeId","data-v-83334191"]]);const Ht=A({model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!0}},setup(t,{emit:o}){const n=Q(),r=C(!1),g="Profile Thumbnil";let V=C(!1),c=C(""),i=C(null);return{title:g,attach:i,hasThumb:V,thumbnil:c,fileAded:h=>{let H=h.target.files;if(H.length){let v=H[0];i.value=v;let k=new FileReader;k.onload=()=>{let b=k.result;c.value=b,V.value=!0},k.readAsDataURL(v)}},update:async()=>{try{const h=route("avatar",{},!1),m=new FormData;i.value&&m.append("avatar",i.value);const{data:H}=await axios.post(h,m);n.updateAvatar(H),n.hideProfileModal()}catch(h){console.error(h)}},busy:r,props:t,close:()=>{o("update:show",!1)}}}}),yt=t=>(z("data-v-8d7b5baf"),t=t(),T(),t),$t={class:"layout va-gutter-1"},bt={class:"row"},Mt={class:"flex xs12"},Ct={class:"item mb-4"},kt={class:"form-title"},wt={class:"text"},At={class:"flex xs12"},St={class:"row"},Ut={class:"flex xs12"},Nt={key:0,class:"img-box"},Bt=["src"],Lt={class:"input-box"},zt={class:"va-file-upload va-file-upload--dropzone",style:{"background-color":"rgba(21, 79, 193, 0.08)"}},Tt=yt(()=>e("div",{class:"va-file-upload__field"},[e("div",{class:"va-file-upload__field__text"}," Click Here And Upload File ")],-1)),It={class:"flex xs12"},Pt={class:"item actions-btns"};function xt(t,o,n,r,g,V){const c=l("va-icon"),i=l("va-button"),f=l("va-inner-loading"),u=l("va-modal");return d(),M(u,{modelValue:t.show,"onUpdate:modelValue":o[1]||(o[1]=_=>t.show=_),fullscreen:!1,"hide-default-actions":"","no-outside-dismiss":"",class:"form-sceen"},{default:a(()=>[s(f,{loading:t.busy},{default:a(()=>[e("div",$t,[e("div",bt,[e("div",Mt,[e("div",Ct,[e("div",kt,[s(c,{name:"notifications"}),e("span",wt,$(t.title),1)])])]),e("div",At,[e("div",St,[e("div",Ut,[e("div",{class:j(["tumb-card",{hasThumb:t.hasThumb}])},[t.hasThumb?(d(),p("div",Nt,[e("img",{src:t.thumbnil,alt:""},null,8,Bt)])):L("",!0),e("div",Lt,[e("div",zt,[Tt,e("input",{type:"file",class:"va-file-upload__field__input",tabindex:"-1","aria-hidden":"true",onChange:o[0]||(o[0]=(..._)=>t.fileAded&&t.fileAded(..._))},null,32)])])],2)])])]),e("div",It,[e("div",Pt,[s(i,{color:"info",onClick:t.update},{default:a(()=>[y(" Skip")]),_:1},8,["onClick"]),s(i,{color:"success",onClick:t.update},{default:a(()=>[y(" Next")]),_:1},8,["onClick"])])])])])]),_:1},8,["loading"])]),_:1},8,["modelValue"])}const Et=S(Ht,[["render",xt],["__scopeId","data-v-8d7b5baf"]]),Qt=E("chat",{state(){return{users:[],totalUnreadCount:0}},actions:{async fetchChatUsers(t){try{const{data:o}=await axios.get(route("chatUsers"));this.users=o.map((n,r)=>(n.active=!r,n.messages=[],n)),t(this.users)}catch(o){console.error(o)}},increaseTotalUnread(t){this.totalUnreadCount=+t},increaseUnread(t,o){this.users=this.users.map(n=>(n.id==t&&(n.unReadCount=n.unReadCount+o),n)),this.totalUnreadCount=this.totalUnreadCount+o,R()},listen(t){Echo.join("chat").joining(o=>{axios.put(route("online",{user:o.id}))}).leaving(o=>{axios.put(route("offline",{user:o.id}),{})}).listen("UserOnline",o=>{const n=this.users.find(r=>r.id==o.id);n&&(n.isOnline=!0)}).listen("UserOffline",o=>{const n=this.users.find(r=>r.id==o.id);n&&(n.isOnline=!1)}).listen("ChatEvent",o=>{t(o)})}}}),jt=A({model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!0}},setup(t,{emit:o}){return{props:t}}}),Zt=e("div",null,"Chat modal",-1);function Ft(t,o,n,r,g,V){const c=l("va-inner-loading"),i=l("va-modal");return d(),M(i,{modelValue:t.show,"onUpdate:modelValue":o[0]||(o[0]=f=>t.show=f),fullscreen:!0,"hide-default-actions":"","no-outside-dismiss":""},{default:a(()=>[s(c,{loading:t.busy},{default:a(()=>[Zt]),_:1},8,["loading"])]),_:1},8,["modelValue"])}const Rt=S(jt,[["render",Ft]]);const Ot=A({components:{AsideBar:it,NotificationModel:Vt,ProfileEditModal:Et,ChatModal:Rt},props:{title:{type:String,default:"title"},showInfoBar:{type:Boolean,default:!1},busy:{type:Boolean,default:!0}},setup(t){const o=Q(),n=Qt(),r=x(()=>n.totalUnreadCount);let g=o.token,V=o.user,c=o.avatar,i=x(()=>o.showProfileModal),f=C(!1);g&&(window.Echo.connector.options.auth.headers.Authorization=`Bearer ${g}`);const u=J(),_=Z();_.notificationsFetch();const h=()=>{D(),u.push({name:"login"})},m=C(!1),H=()=>{n.users.length?u.push({name:"chat"}):(m.value=!0,n.fetchChatUsers(()=>{m.value=!1,u.push({name:"chat"})}))};return O(()=>{axios.get(route("chatUnreadcount")).then(({data:v})=>{r.value=v,n.increaseTotalUnread(v)})}),{avatar:c,props:t,notifyStore:_,user:V,showProfileModal:i,showChatModal:f,chatUnreadcount:r,chatIconBusy:m,logout:h,goChat:H}}}),F=t=>(z("data-v-08629653"),t=t(),T(),t),Dt={class:"main-layout"},Jt={class:"info-bar-body"},qt={class:"asside"},Gt={class:"main-content"},Kt={class:"inner"},Wt={class:"top-nav"},Xt=F(()=>e("div",{class:"page-title"},"Task Master",-1)),Yt={class:"right-side"},te={key:0,class:"profile-badge-box"},ee=F(()=>e("span",{class:"mx-2"},"Logout",-1)),oe={class:"page-content"};function se(t,o,n,r,g,V){const c=l("AsideBar"),i=l("va-icon"),f=l("va-avatar"),u=l("va-badge"),_=l("va-inner-loading"),h=l("va-button"),m=l("NotificationModel"),H=l("ProfileEditModal");return d(),p("div",Dt,[e("div",{class:j(["info-bar",{show:t.props.showInfoBar}])},[e("div",Jt,[U(t.$slots,"info",{},void 0,!0)])],2),e("div",qt,[s(c)]),e("div",Gt,[e("div",Kt,[e("div",Wt,[Xt,e("div",Yt,[U(t.$slots,"custom",{},void 0,!0),s(u,{class:"notification-icon",text:t.notifyStore.count,overlap:"",onClick:o[0]||(o[0]=v=>t.notifyStore.toggleNodal(!0))},{default:a(()=>[s(f,{size:"small"},{default:a(()=>[s(i,{size:"small",name:"notifications"})]),_:1})]),_:1},8,["text"]),s(u,{text:t.chatUnreadcount,overlap:""},{default:a(()=>[s(_,{loading:t.chatIconBusy},{default:a(()=>[s(f,{onClick:t.goChat,size:"small"},{default:a(()=>[s(i,{size:"small",name:"message"})]),_:1},8,["onClick"])]),_:1},8,["loading"])]),_:1},8,["text"]),t.user?(d(),p("span",te,[t.avatar?(d(),M(f,{key:0,size:"small",src:t.avatar.url,alt:t.avatar.path},null,8,["src","alt"])):(d(),M(f,{key:1,size:"small",icon:"person"})),e("span",null,$(t.user.name),1),e("span",null,[s(i,{size:"small",name:"expand_more"})])])):L("",!0),s(h,{class:"ml-4",size:"small",preset:"primary",round:"",onClick:t.logout},{default:a(()=>[s(i,{size:"small",name:"lock"}),ee]),_:1},8,["onClick"])])]),e("div",oe,[s(_,{loading:t.props.busy,size:60},{default:a(()=>[U(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])])])]),s(m,{show:t.notifyStore.showModal,"onUpdate:show":o[1]||(o[1]=v=>t.notifyStore.toggleNodal(v)),onClose:o[2]||(o[2]=v=>t.notifyStore.toggleNodal(!1))},null,8,["show"]),s(H,{show:t.showProfileModal},null,8,["show"])])}const le=S(Ot,[["render",se],["__scopeId","data-v-08629653"]]),ae={class:"top-title-box"},ne={class:"top-title"},de={__name:"PageTitleBox",props:{title:{type:String,default:"Home Page"}},setup(t){const o=t;return(n,r)=>(d(),p("div",ae,[e("div",ne,$(o.title),1),e("div",null,[U(n.$slots,"default")])]))}};export{le as A,de as _,Qt as c};
