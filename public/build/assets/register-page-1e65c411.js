import{_ as y,d as R,o as k,r as V,a as w,c as P,b as o,w as n,m as z,l as p,e as t,f as F,g as I,h as M,i as f,j as N,u as U,k as $}from"./app-d1420b02.js";const B=R({components:{Open:k},setup(){const e=V(),r=V(!1),_=U(),c=w({name:"",email:"",password:"",password_confirmation:"",phone:""}),i=w({name:"",email:"",password:"",password_confirmation:"",phone:""}),h=w({name:[{required:!0,message:"Name Must be Required",trigger:"change"}],email:[{required:!0,message:"Email Must be Required",trigger:"change"}],phone:[{required:!0,message:"Phone Must be Required",trigger:"change"}],password:[{required:!0,message:"Password Must be Required",trigger:"change"}],password_confirmation:[{required:!0,message:"Password Must be Required",trigger:"change"}]});return{busy:r,ruleFormRef:e,ruleForm:c,rules:h,errors:i,login:async d=>{await d.validate(async(g,b)=>{if(g)try{const l="/register",{data:u}=await axios.post(l,c),s=z();_.push({name:"login"})}catch(l){console.error(l);const u=l==null?void 0:l.response;if(u&&u.status==422){const s=u.data.errors;p.hasIn(s,"name")&&(i.name=s.name[0]),p.hasIn(s,"email")&&(i.email=s.email[0]),p.hasIn(s,"password")&&(i.password=s.password[0]),p.hasIn(s,"password_confirmation")&&(i.password_confirmation=s.password_confirmation[0]),p.hasIn(s,"phone")&&(i.phone=s.phone[0])}}})}}}}),C={class:"login-page"},E={class:"login-btn-box"},D=f("span",{class:"ml-2"},"Register",-1),j={class:"redirect-info"},A=f("b",null,"Login",-1);function L(e,r,_,c,i,h){const m=t("el-input"),d=t("el-form-item"),g=t("open"),b=t("el-icon"),l=t("el-button"),u=t("el-link"),s=t("el-form"),v=t("el-card"),q=$("loading");return F(),P("div",C,[o(v,null,{default:n(()=>[I((F(),M(s,{ref:"ruleFormRef",model:e.ruleForm,rules:e.rules,"label-position":"top"},{default:n(()=>[o(d,{label:"Name",prop:"name",error:e.errors.name},{default:n(()=>[o(m,{size:"large",modelValue:e.ruleForm.name,"onUpdate:modelValue":r[0]||(r[0]=a=>e.ruleForm.name=a)},null,8,["modelValue"])]),_:1},8,["error"]),o(d,{label:"Email",prop:"email",error:e.errors.email},{default:n(()=>[o(m,{size:"large",modelValue:e.ruleForm.email,"onUpdate:modelValue":r[1]||(r[1]=a=>e.ruleForm.email=a)},null,8,["modelValue"])]),_:1},8,["error"]),o(d,{label:"Phone",prop:"phone",error:e.errors.phone},{default:n(()=>[o(m,{size:"large",modelValue:e.ruleForm.phone,"onUpdate:modelValue":r[2]||(r[2]=a=>e.ruleForm.phone=a)},null,8,["modelValue"])]),_:1},8,["error"]),o(d,{label:"Password",prop:"password",error:e.errors.password},{default:n(()=>[o(m,{size:"large",modelValue:e.ruleForm.password,"onUpdate:modelValue":r[3]||(r[3]=a=>e.ruleForm.password=a),type:"password","show-password":""},null,8,["modelValue"])]),_:1},8,["error"]),o(d,{label:"Password",prop:"password_confirmation",error:e.errors.password_confirmation},{default:n(()=>[o(m,{size:"large",modelValue:e.ruleForm.password_confirmation,"onUpdate:modelValue":r[4]||(r[4]=a=>e.ruleForm.password_confirmation=a),type:"password","show-password":""},null,8,["modelValue"])]),_:1},8,["error"]),f("div",E,[o(l,{size:"large",type:"primary",onClick:r[5]||(r[5]=a=>e.login(e.ruleFormRef))},{default:n(()=>[o(b,null,{default:n(()=>[o(g)]),_:1}),D]),_:1})]),f("div",j,[N(" Already have an account? "),o(u,{href:"/"},{default:n(()=>[A]),_:1})])]),_:1},8,["model","rules"])),[[q,e.busy]])]),_:1})])}const S=y(B,[["render",L]]);export{S as default};
