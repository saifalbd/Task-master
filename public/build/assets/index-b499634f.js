import{a as z,S as I}from"./app-layout-d1a0a4ef.js";import{_ as E}from"./PageTitleBox-570dae93.js";import{r as v}from"./api-5314060c.js";import{h as L}from"./moment-fbc5633a.js";import{_ as F,r,n as j,h as N,w as a,e as l,f as i,i as e,b as c,c as k,p as C,F as T,u as q,t as u,j as A,q as H,s as R}from"./app-c6f1798b.js";const W={components:{AppLayout:z,PageTitleBox:E,statusBtnVue:I},setup(){const d=r(!1),P=q(),f=r([]),o=r([]),g=r([]),x=r([]),y=r([]),b=t=>L(t).fromNow(),h=t=>{P.push(t)};v(0,t=>{f.value=t}),v(1,t=>{o.value=t}),v(2,t=>{g.value=t}),v(3,t=>{x.value=t}),v(4,t=>{y.value=t});const w=j(()=>[{title:"Pending Tasks",items:f.value},{title:"Accepted Tasks",items:o.value},{title:"Working Tasks",items:g.value},{title:"Submited Tasks",items:x.value},{title:"Completed Tasks",items:y.value}]),_=r([]);return axios.get(route("employeeProposal")).then(({data:t})=>{_.value=t}),{atNow:b,go:h,busy:d,employeeProposals:_,Accepted:async(t,m)=>{try{await axios.get(route("acceptProposal",{employee:t})),_.value.splice(m,1)}catch(s){console.error(s)}},Deny:async(t,m)=>{try{await axios.get(route("denyProposal",{employee:t})),_.value.splice(m,1)}catch(s){console.error(s)}},tasks:w}}},D=d=>(H("data-v-418f94d0"),d=d(),R(),d),G={class:"home-page admin"},J={class:"card-header"},K={class:"recent-task-list"},M=["onClick"],O={class:"avatar-box"},Q=["src"],U={class:"task-line"},X={class:"center"},Y={class:"text-box"},Z=D(()=>e("div",{class:"card-header"},[e("span",null,"Employee Proposal")],-1)),$={class:"employee-proposals"},ee=["onClick"],te={class:"line-one"},se={style:{"text-align":"center"}},oe=D(()=>e("div",null,"Send you Employee Proposal as empoyeee",-1)),ae={class:"line-two"};function ne(d,P,f,o,g,x){const y=l("page-title-box"),b=l("el-avatar"),h=l("el-card"),w=l("el-col"),_=l("el-row"),B=l("va-avatar"),S=l("el-link"),t=l("el-button"),m=l("app-layout");return i(),N(m,{busy:o.busy},{default:a(()=>[e("div",null,[c(y,{title:"Home Board"})]),e("div",G,[c(_,{gutter:24},{default:a(()=>[(i(!0),k(T,null,C(o.tasks,(s,p)=>(i(),N(w,{sm:24,md:8,key:p},{default:a(()=>[c(h,{class:"box-card mb-3"},{header:a(()=>[e("div",J,[e("span",null,[e("b",null,u(s.title),1)])])]),default:a(()=>[e("ul",K,[(i(!0),k(T,null,C(s.items,(n,V)=>(i(),k("li",{key:V,onClick:le=>o.go({name:"task.show",params:{id:n.id}})},[e("div",O,[c(b,{size:25},{default:a(()=>[e("img",{src:n.employee.model.avatar.url},null,8,Q)]),_:2},1024)]),e("div",U,[e("b",null,u(n.employee.model.name),1),e("small",X,u(o.atNow(n.created_at)),1)]),e("div",Y,u(n.title),1)],8,M))),128))])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e("div",null,[c(h,{class:"box-card"},{header:a(()=>[Z]),default:a(()=>[e("ul",$,[(i(!0),k(T,null,C(o.employeeProposals,(s,p)=>(i(),k("li",{key:p},[e("div",{class:"avatar-box",onClick:n=>o.go({name:"userProfile",params:{user:s.user.id}})},[c(B,{src:s.user.avatar.url,size:30},null,8,["src"])],8,ee),e("div",te,[e("div",null,[c(S,{underline:!1,onClick:n=>o.go({name:"userProfile",params:{user:s.user.id}})},{default:a(()=>[e("b",null,u(s.user.name),1)]),_:2},1032,["onClick"]),e("small",se,u(o.atNow(s.created_at)),1)]),oe]),e("div",ae,[c(t,{size:"small",type:"primary",onClick:n=>o.Accepted(s,p)},{default:a(()=>[A(" Accepted ")]),_:2},1032,["onClick"]),c(t,{size:"small",type:"danger",onClick:n=>o.Deny(s,p)},{default:a(()=>[A(" Deny ")]),_:2},1032,["onClick"])])]))),128))])]),_:1})])])]),_:1},8,["busy"])}const ue=F(W,[["render",ne],["__scopeId","data-v-418f94d0"]]);export{ue as default};
