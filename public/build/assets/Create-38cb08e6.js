import{F as C}from"./FormDialog-a8a7637b.js";import{r as D}from"./index-2ab60d49.js";import{h as U}from"./moment-fbc5633a.js";import{_ as k,r as a,f as E,h as B,w as f,b as n,i as s,j as H,z as A,e as r}from"./app-3dad6f25.js";const F={components:{FormDialog:C},props:{show:{type:Boolean,default:!1},employees:{type:Array,required:!0},categories:{type:Array,required:!0}},setup(x,{emit:o}){let b=a(!1);const e=a(!1),v=a(null);let _=a(""),d=a(null),i=a(null);const m=a(U().format(dateFormat)),p=a(null),y=a(new Date),u=a(""),c=a([]);return{props:x,form:v,emit:o,save:async()=>{var V;let t=route("task.store");if(!await v.value.validate())return null;e.value=!0;try{const l=new FormData;l.append("title",_.value),l.append("category",d.value),l.append("employee",(V=i.value)==null?void 0:V.id),l.append("start",m.value),l.append("end",p.value),l.append("description",u.value),c.value.forEach((w,T)=>{l.append(`attachments[${T}]`,w)});const{data:g}=await axios.post(t,l);o("push",addProtos(g,{action:!0,showEdit:!1}))}catch(l){console.error(l),validErorrs(l)}e.value=!1},rs:D,busy:b,formBusy:e,title:_,start:m,end:p,endTime:y,employee:i,category:d,description:u,attachments:c}}},z={class:"layout gutter--md"},L={class:"row align-content--center"},N={class:"flex xs12 in-box"},S={class:"flex xs12 in-box"},j={class:"flex xs12 in-box"},q={class:"flex xs4 in-box"},P={class:"flex xs4 in-box"},Q={class:"flex xs4 in-box"},G={class:"flex xs12 in-box"},I={class:"flex xs12",style:{"min-height":"150px","margin-bottom":"50px"}};function J(x,o,b,e,v,_){const d=r("va-input"),i=r("va-select"),m=r("va-chip"),p=r("va-time-input"),y=r("va-file-upload"),u=r("QuillEditor"),c=r("va-form"),h=r("form-dialog");return E(),B(h,{show:e.props.show,"onUpdate:show":o[8]||(o[8]=t=>e.emit("update:show",t)),busy:e.formBusy,title:"Create Task",onAdd:e.save,fullscreen:!0},{default:f(()=>[n(c,{ref:"form"},{default:f(()=>[s("div",z,[s("div",L,[s("div",N,[n(d,{modelValue:e.title,"onUpdate:modelValue":o[0]||(o[0]=t=>e.title=t),label:"Title *",placeholder:"Title Here",rules:e.rs("title",!0)},null,8,["modelValue","rules"])]),s("div",S,[n(i,{modelValue:e.category,"onUpdate:modelValue":o[1]||(o[1]=t=>e.category=t),label:"Project Category *",placeholder:"Category Here",rules:e.rs("Category",!0),"text-by":"title","value-by":"id",options:e.props.categories},null,8,["modelValue","rules","options"])]),s("div",j,[n(i,{modelValue:e.employee,"onUpdate:modelValue":o[2]||(o[2]=t=>e.employee=t),label:"Task Employee *",placeholder:"Task Employee Here",rules:e.rs("member",!0),searchable:"","text-by":"name",options:e.props.employees},{content:f(({value:t})=>[n(m,{size:"small",class:"mr-1 my-1"},{default:f(()=>[H(A(t.name),1)]),_:2},1024)]),_:1},8,["modelValue","rules","options"])]),s("div",q,[n(d,{modelValue:e.start,"onUpdate:modelValue":o[3]||(o[3]=t=>e.start=t),label:"Start *",type:"date",placeholder:"Start Here",rules:e.rs("start",!0)},null,8,["modelValue","rules"])]),s("div",P,[n(d,{modelValue:e.end,"onUpdate:modelValue":o[4]||(o[4]=t=>e.end=t),type:"date",label:"Dead Line *",placeholder:"Dead Line Here",rules:e.rs("dead line",!0)},null,8,["modelValue","rules"])]),s("div",Q,[n(p,{label:"Dead Line *",modelValue:e.endTime,"onUpdate:modelValue":o[5]||(o[5]=t=>e.endTime=t)},null,8,["modelValue"])]),s("div",G,[n(y,{modelValue:e.attachments,"onUpdate:modelValue":o[6]||(o[6]=t=>e.attachments=t),dropzone:""},null,8,["modelValue"])]),s("div",I,[n(u,{theme:"snow",toolbar:"minimal",contentType:"html",content:e.description,"onUpdate:content":o[7]||(o[7]=t=>e.description=t),placeholder:"Description Html Contant"},null,8,["content"])])])])]),_:1},512)]),_:1},8,["show","busy","onAdd"])}const X=k(F,[["render",J]]);export{X as C};
