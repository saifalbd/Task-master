import{a as z,S as A}from"./app-layout-ab7a6390.js";import{_ as D}from"./PageTitleBox-6cb74897.js";import{h as T}from"./moment-fbc5633a.js";import{_ as V,r as f,h as I,w as o,e as l,f as u,i as e,b as n,c as h,n as C,F as P,u as E,t as p,j as B,p as L,q as F}from"./app-68682742.js";const R=async c=>{const{data:m}=await axios.get(route("home.recentTask"));c(m)};const j={components:{AppLayout:z,PageTitleBox:D,statusBtnVue:A},setup(){const c=f(!1),m=E(),k=f([]),a=t=>T(t).fromNow(),x=t=>{m.push(t)};R(t=>{k.value=t});const _=f([]);return axios.get(route("employeeProposal")).then(({data:t})=>{_.value=t}),{atNow:a,go:x,busy:c,employeeProposals:_,Accepted:async(t,r)=>{try{await axios.get(route("acceptProposal",{employee:t})),_.value.splice(r,1)}catch(i){console.error(i)}},Deny:async(t,r)=>{try{await axios.get(route("denyProposal",{employee:t})),_.value.splice(r,1)}catch(i){console.error(i)}},tasks:k}}},y=c=>(L("data-v-752c8ab6"),c=c(),F(),c),q={class:"home-page"},G=y(()=>e("div",{class:"card-header"},[e("span",null,"Recent Tasks")],-1)),H={class:"recent-task-list"},J=["onClick"],K={class:"avatar-box"},M=["src"],O={class:"task-line"},Q={class:"center"},U={class:"task-line"},W={class:"text-box"},X={class:"center"},Y=y(()=>e("div",null,null,-1)),Z=y(()=>e("div",{class:"card-header"},[e("span",null,"Employee Proposal")],-1)),$={class:"employee-proposals"},ee=["onClick"],se={class:"line-one"},te={style:{"text-align":"center"}},ae=y(()=>e("div",null,"Send you Employee Proposal as empoyeee",-1)),oe={class:"line-two"};function ne(c,m,k,a,x,_){const b=l("page-title-box"),g=l("el-avatar"),t=l("status-btn-vue"),r=l("el-card"),i=l("va-avatar"),N=l("el-link"),w=l("el-button"),S=l("app-layout");return u(),I(S,{busy:a.busy},{default:o(()=>[e("div",null,[n(b)]),e("div",q,[e("div",null,[n(r,{class:"box-card"},{header:o(()=>[G]),default:o(()=>[e("ul",H,[(u(!0),h(P,null,C(a.tasks,(s,d)=>(u(),h("li",{key:d,onClick:v=>a.go({name:"task.show",params:{id:s.id}})},[e("div",K,[n(g,{size:35},{default:o(()=>[e("img",{src:s.employee.model.avatar.url},null,8,M)]),_:2},1024)]),e("div",O,[e("b",null,p(s.employee.model.name),1),e("small",Q,p(a.atNow(s.created_at)),1)]),e("div",U,[e("div",W,p(s.title),1),e("div",X,[n(t,{size:"small",status:s.status},null,8,["status"])])])],8,J))),128))])]),_:1})]),Y,e("div",null,[n(r,{class:"box-card"},{header:o(()=>[Z]),default:o(()=>[e("ul",$,[(u(!0),h(P,null,C(a.employeeProposals,(s,d)=>(u(),h("li",{key:d},[e("div",{class:"avatar-box",onClick:v=>a.go({name:"userProfile",params:{user:s.user.id}})},[n(i,{src:s.user.avatar.url,size:30},null,8,["src"])],8,ee),e("div",se,[e("div",null,[n(N,{underline:!1,onClick:v=>a.go({name:"userProfile",params:{user:s.user.id}})},{default:o(()=>[e("b",null,p(s.user.name),1)]),_:2},1032,["onClick"]),e("small",te,p(a.atNow(s.created_at)),1)]),ae]),e("div",oe,[n(w,{size:"small",type:"primary",onClick:v=>a.Accepted(s,d)},{default:o(()=>[B(" Accepted ")]),_:2},1032,["onClick"]),n(w,{size:"small",type:"danger",onClick:v=>a.Deny(s,d)},{default:o(()=>[B(" Deny ")]),_:2},1032,["onClick"])])]))),128))])]),_:1})])])]),_:1},8,["busy"])}const ie=V(j,[["render",ne],["__scopeId","data-v-752c8ab6"]]);export{ie as default};
