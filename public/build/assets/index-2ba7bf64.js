import{a as w,S as j}from"./app-layout-3dca36ac.js";import{_ as C}from"./PageTitleBox-d182f4bf.js";import{P as O}from"./Pagination-12f3e00c.js";import{R as S}from"./RemoveEditButton-a6640c4a.js";import{_ as E,r,h as k,w as n,u as L,e as o,f as v,i as l,b as a,j as x,c as A,x as D,F as I,z as N}from"./app-090196be.js";const R={components:{AppLayout:w,PageTitleBox:C,Pagination:O,RemoveEditButton:S,StatusBtn:j},setup(){const _=r(!0),s=L(),m=r([]),e=r([]),u=r(10),f=r("title"),p=[{key:"id",sortable:!0,sortingOptions:["desc","asc"]},{key:"title",sortable:!0},{key:"manager.name",label:"Manager",sortable:!0},{key:"category.title",label:"Category",sortable:!0},{key:"start",label:"Start",sortable:!0},{key:"end",label:"Dead Line",sortable:!0},{key:"team.title",label:"Team",sortable:!0},{key:"status",sortable:!0},{key:"action",thAlign:"right",tdAlign:"right"}],b=r("asc"),c=async g=>{try{const i=route("my.project.index",{perPage:u.value,page:g}),{data:d}=await axios.get(i);e.value=d.links,m.value=addProtos(d.data,{action:!0,showEdit:!1})}catch(i){console.error(i)}_.value=!1};return c(1),{router:s,perPage:u,sortingOrder:b,items:m,columns:p,sortBy:f,fetchItems:c,links:e,busy:_}}},T={class:"row mt-4"},U={class:"flex md6"},z={class:"item"},F={class:"flex lg6"},M={class:"item right"};function q(_,s,m,e,u,f){const p=o("page-title-box"),b=o("va-select"),c=o("va-icon"),g=o("va-input"),i=o("va-chip"),d=o("status-btn"),h=o("remove-edit-button"),P=o("va-data-table"),B=o("pagination"),V=o("app-layout");return v(),k(V,{busy:e.busy},{default:n(()=>[l("div",null,[a(p,{title:"Projects"})]),l("div",T,[l("div",U,[l("div",z,[a(b,{class:"flex mb-2 md6",label:"Per Page",modelValue:e.perPage,"onUpdate:modelValue":s[0]||(s[0]=t=>e.perPage=t),options:[10,20,30,40,50]},null,8,["modelValue"])])]),l("div",F,[l("div",M,[a(g,{class:"flex mb-2 md6",label:"Search"},{prepend:n(()=>[a(c,{class:"material-icons"},{default:n(()=>[x("search")]),_:1})]),_:1})])])]),a(P,{items:e.items,columns:e.columns,hoverable:!0,"sort-by":e.sortBy,"onUpdate:sortBy":s[1]||(s[1]=t=>e.sortBy=t),"sorting-order":e.sortingOrder,"onUpdate:sortingOrder":s[2]||(s[2]=t=>e.sortingOrder=t)},{"cell(members)":n(({rowData:t})=>[(v(!0),A(I,null,D(t.members,y=>(v(),k(i,{size:"small",key:y.id},{default:n(()=>[x(N(y.name),1)]),_:2},1024))),128))]),"cell(status)":n(({value:t})=>[a(d,{status:t},null,8,["status"])]),"cell(action)":n(({rowData:t})=>[a(h,{isView:!0,onViewClick:y=>e.router.push({name:"job.project.show",params:{id:t.id}}),isDelete:!1,isEdit:!1},null,8,["onViewClick"])]),_:1},8,["items","columns","sort-by","sorting-order"]),a(B,{links:e.links,onPage:e.fetchItems},null,8,["links","onPage"])]),_:1},8,["busy"])}const W=E(R,[["render",q],["__scopeId","data-v-c704561d"]]);export{W as default};
