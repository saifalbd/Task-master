import{a as F}from"./app-layout-62a20c1a.js";import{_ as U}from"./PageTitleBox-34f8655b.js";import{P as R}from"./Pagination-0fa3f7a5.js";import{_ as k,r as l,a as I,f as x,h as T,w as _,b as s,i as u,e as a,Z as O,a1 as N,a2 as j,a3 as H,j as L}from"./app-fc468544.js";import{F as E}from"./FormDialog-3370bb78.js";import{r as B}from"./index-dc654618.js";import{C as S}from"./CreateButton-8d1e5d7b.js";import{R as q}from"./RemoveEditButton-6c02efb2.js";import{u as D}from"./useToast-70ffcdc4.js";const Z={components:{FormDialog:E},props:{show:{type:Boolean,default:!1}},setup(n,{emit:t}){let i=l(!1);const e=l(null);let c=l(""),d=l(!1);I({text:"#262824",bg:"#FFFFFF",border:"#767C88"});let p=route("taskType.store");return{props:n,form:e,showColor:d,emit:t,rs:B,save:async()=>{if(!await e.value.validate())return null;try{const{data:o}=await axios.post(p,{title:c.value});t("push",addProtos(o,{action:!0,showEdit:!1}))}catch(o){console.error(o),validErorrs(o)}},title:c,busy:i}}},z={class:"layout gutter--md"},G={class:"row align-content--center"},J={class:"flex xs12"};function K(n,t,i,e,c,d){const p=a("va-input"),r=a("va-form"),f=a("form-dialog");return x(),T(f,{show:e.props.show,"onUpdate:show":t[1]||(t[1]=o=>e.emit("update:show",o)),busy:e.busy,title:"Create Task Type",onAdd:e.save},{default:_(()=>[s(r,{ref:"form"},{default:_(()=>[u("div",z,[u("div",G,[u("div",J,[s(p,{modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=o=>e.title=o),label:"Title",placeholder:"Title Here",rules:e.rs("title",!0)},null,8,["modelValue","rules"])])])])]),_:1},512)]),_:1},8,["show","busy","onAdd"])}const M=k(Z,[["render",K],["__scopeId","data-v-168653c3"]]),Q={components:{FormDialog:E},props:{show:{type:Boolean,default:!1},item:{type:Object,required:!0}},setup(n,{emit:t}){let i=l(!1);const e=l(null);let c=l(n.item),d=l(n.item.title);return O(n.item,r=>{c.value=r,d.value=r.title}),{props:n,form:e,emit:t,save:async()=>{let r=route("taskType.update",{task_type:c.value.id});if(!await e.value.validate())return null;try{const{data:o}=await axios.put(r,{title:d.value});c.value.title=d.value,t("replace",addProtos(c.value,{action:!0,showEdit:!1}))}catch(o){console.error(o),N(o)}},rs:B,title:d,busy:i}}},W={class:"layout gutter--md"},X={class:"row align-content--center"},Y={class:"flex xs12"};function $(n,t,i,e,c,d){const p=a("va-input"),r=a("va-form"),f=a("form-dialog");return x(),T(f,{show:e.props.show,"onUpdate:show":t[1]||(t[1]=o=>e.emit("update:show",o)),busy:e.busy,title:"Edit Cetegory","is-edit":"",onAdd:e.save},{default:_(()=>[s(r,{ref:"form"},{default:_(()=>[u("div",W,[u("div",X,[u("div",Y,[s(p,{modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=o=>e.title=o),label:"Title",placeholder:"Title Here",rules:e.rs("title",!0)},null,8,["modelValue","rules"])])])])]),_:1},512)]),_:1},8,["show","busy","onAdd"])}const ee=k(Q,[["render",$]]);const te={components:{AppLayout:F,PageTitleBox:U,Pagination:R,Create:M,Edit:ee,CreateButton:S,RemoveEditButton:q},setup(){const n=l(!1),t=D(),i=l([]),e=l(!1),c=l([]),d=l(10),p=l("title"),r=[{key:"id",sortable:!0,sortingOptions:["desc","asc"]},{key:"title",sortable:!0},{key:"action",thAlign:"right",tdAlign:"right"}],f=l("asc"),o=async m=>{n.value=!0;const h=route("taskType.index",{perPage:d.value,page:m}),{data:g}=await axios.get(h);i.value=addProtos(g,{action:!0,showEdit:!1}),n.value=!1};return o(1),{showCreate:e,perPage:d,sortingOrder:f,items:i,columns:r,sortBy:p,push:m=>{e.value=!1,i.value.push(m)},replace:(m,h)=>{e.value=!1,i.value.splice(h,1,m)},fetchItems:o,remove:async(m,h)=>{if(!await j(m,"taskType"))return null;try{const y=route("taskType.destroy",{task_type:m.id});await axios.delete(y),i.value.splice(h,1),H(t)}catch(y){console.log(y)}},links:c,busy:n}}},oe={class:"row mt-4"},ae={class:"flex md6"},se={class:"item"},le={class:"flex lg6"},ne={class:"item right"};function re(n,t,i,e,c,d){const p=a("create-button"),r=a("page-title-box"),f=a("va-select"),o=a("va-icon"),C=a("va-input"),b=a("el-table-column"),P=a("edit"),m=a("remove-edit-button"),h=a("el-table"),g=a("pagination"),y=a("create"),A=a("app-layout");return x(),T(A,{busy:e.busy},{default:_(()=>[u("div",null,[s(r,{title:"TaskTypes"},{default:_(()=>[s(p,{title:"Add Task Type",onClick:t[0]||(t[0]=v=>e.showCreate=!0)})]),_:1})]),u("div",oe,[u("div",ae,[u("div",se,[s(f,{class:"flex mb-2 md6",label:"Per Page",modelValue:e.perPage,"onUpdate:modelValue":t[1]||(t[1]=v=>e.perPage=v),options:[10,20,30,40,50]},null,8,["modelValue"])])]),u("div",le,[u("div",ne,[s(C,{class:"flex mb-2 md6",label:"Search"},{prepend:_(()=>[s(o,{class:"material-icons"},{default:_(()=>[L("search")]),_:1})]),_:1})])])]),s(h,{data:e.items,border:"",style:{width:"100%"}},{default:_(()=>[s(b,{prop:"id",label:"serial"}),s(b,{prop:"title",label:"title"}),s(b,{fixed:"right",label:"Operations",width:"120"},{default:_(({row:v,$index:V})=>[s(m,{onEditClick:w=>v.showEdit=!0,onRemoveClick:w=>e.remove(v,V)},{default:_(()=>[s(P,{show:v.showEdit,"onUpdate:show":w=>v.showEdit=w,item:v,onReplace:w=>e.replace(w,V)},null,8,["show","onUpdate:show","item","onReplace"])]),_:2},1032,["onEditClick","onRemoveClick"])]),_:1})]),_:1},8,["data"]),s(g,{links:e.links,onPage:e.fetchItems},null,8,["links","onPage"]),s(y,{show:e.showCreate,"onUpdate:show":t[2]||(t[2]=v=>e.showCreate=v),onPush:e.push},null,8,["show","onPush"])]),_:1},8,["busy"])}const he=k(te,[["render",re],["__scopeId","data-v-5b463c50"]]);export{he as default};
