import{a as A,S as z}from"./app-layout-94f1dd60.js";import{_ as D}from"./PageTitleBox-cbd92b29.js";import{r as p}from"./api-5314060c.js";import{h as V}from"./moment-fbc5633a.js";import{_ as I,r as c,n as E,h as L,w as n,e as r,f as i,i as s,b as l,c as u,p as C,F as P,q as F,u as j,t as m,j as B,s as q,v as H}from"./app-a4b3de18.js";const R={components:{AppLayout:A,PageTitleBox:D,statusBtnVue:z},setup(){const d=c(!1),T=j(),k=c([]),t=c([]),y=c([]),f=c([]),v=c([]),g=e=>V(e).fromNow(),h=e=>{T.push(e)};p(0,e=>{k.value=e}),p(1,e=>{t.value=e}),p(2,e=>{y.value=e}),p(3,e=>{f.value=e}),p(4,e=>{v.value=e});const b=E(()=>[{title:"Pending Tasks",items:k.value},{title:"Accepted Tasks",items:t.value},{title:"Working Tasks",items:y.value},{title:"Submited Tasks",items:f.value},{title:"Completed Tasks",items:v.value}]),_=c([]);return axios.get(route("employeeProposal")).then(({data:e})=>{_.value=e}),{atNow:g,go:h,busy:d,employeeProposals:_,Accepted:async(e,o)=>{try{await axios.get(route("acceptProposal",{employee:e})),_.value.splice(o,1)}catch(a){console.error(a)}},Deny:async(e,o)=>{try{await axios.get(route("denyProposal",{employee:e})),_.value.splice(o,1)}catch(a){console.error(a)}},tasks:b}}},S=d=>(q("data-v-5e8982c0"),d=d(),H(),d),W={class:"task-box-list"},G=["md"],J={class:"card-header"},K={class:"recent-task-list"},M=["onClick"],O={class:"avatar-box"},Q=["src"],U={class:"task-line"},X={class:"center"},Y={class:"text-box"},Z={class:"right-side-bar"},$=S(()=>s("div",{class:"card-header"},[s("span",null,"Employee Proposal")],-1)),ee={class:"employee-proposals"},se=["onClick"],te={class:"line-one"},ae={style:{"text-align":"center"}},oe=S(()=>s("div",null,"Send you Employee Proposal as empoyeee",-1)),ne={class:"line-two"};function le(d,T,k,t,y,f){const v=r("page-title-box"),g=r("el-avatar"),h=r("el-card"),b=r("va-avatar"),_=r("el-link"),x=r("el-button"),w=r("app-layout");return i(),L(w,{busy:t.busy},{default:n(()=>[s("div",null,[l(v,{title:"Home Board"})]),s("div",{class:F(["home-page admin",{hasProposal:!!t.employeeProposals.length}])},[s("div",W,[(i(!0),u(P,null,C(t.tasks,(e,o)=>(i(),u("div",{sm:24,md:4.8,key:o},[l(h,{class:"box-card mb-3"},{header:n(()=>[s("div",J,[s("span",null,[s("b",null,m(e.title),1)])])]),default:n(()=>[s("ul",K,[(i(!0),u(P,null,C(e.items,(a,N)=>(i(),u("li",{key:N,onClick:ce=>t.go({name:"task.show",params:{id:a.id}})},[s("div",O,[l(g,{size:25},{default:n(()=>[s("img",{src:a.employee.model.avatar.url},null,8,Q)]),_:2},1024)]),s("div",U,[s("b",null,m(a.employee.model.name),1),s("small",X,m(t.atNow(a.created_at)),1)]),s("div",Y,m(a.title),1)],8,M))),128))])]),_:2},1024)],8,G))),128))]),s("div",Z,[l(h,{class:"box-card"},{header:n(()=>[$]),default:n(()=>[s("ul",ee,[(i(!0),u(P,null,C(t.employeeProposals,(e,o)=>(i(),u("li",{key:o},[s("div",{class:"avatar-box",onClick:a=>t.go({name:"userProfile",params:{user:e.user.id}})},[l(b,{src:e.user.avatar.url,size:30},null,8,["src"])],8,se),s("div",te,[s("div",null,[l(_,{underline:!1,onClick:a=>t.go({name:"userProfile",params:{user:e.user.id}})},{default:n(()=>[s("b",null,m(e.user.name),1)]),_:2},1032,["onClick"]),s("small",ae,m(t.atNow(e.created_at)),1)]),oe]),s("div",ne,[l(x,{size:"small",type:"primary",onClick:a=>t.Accepted(e,o)},{default:n(()=>[B(" Accepted ")]),_:2},1032,["onClick"]),l(x,{size:"small",type:"danger",onClick:a=>t.Deny(e,o)},{default:n(()=>[B(" Deny ")]),_:2},1032,["onClick"])])]))),128))])]),_:1})])],2)]),_:1},8,["busy"])}const me=I(R,[["render",le],["__scopeId","data-v-5e8982c0"]]);export{me as default};
